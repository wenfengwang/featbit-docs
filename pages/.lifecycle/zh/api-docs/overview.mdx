import { Callout } from 'nextra/components'

# API

<Callout type="info">
当前文章是关于如何向 FeatBit REST API 发出请求的一般介绍，有关 API 的完整列表以及如何使用每个 API，我们已经提供了一个由 redoc 驱动的文档，可在[此处](https://featbit-tio-eu-api.azurewebsites.net/docs/index.html)找到。如果您在本地或服务器上运行 FeatBit，也可以指向该 URL：URL\_OF\_API\_SERVER/docs。例如，如果您在本地计算机上运行 FeatBit而没有使用 https，则该 URL 应为 http://localhost:5000/docs。
</Callout>

### 认证

所有 REST API 资源都需要使用[个人或服务访问令牌](../integrations/api-access-tokens.md)进行身份验证。不支持其他身份验证机制。您可以在**集成/访问令牌**页面上管理个人访问令牌。

#### 使用请求标头进行身份验证

使用 API 进行身份验证的唯一方法是在请求中添加一个包含您的访问令牌的 `Authorization` 标头。`Authorization` 标头的值必须是您的访问令牌。要了解如何添加此标头，请参阅[使用 FeatBit REST API](using-featbit-rest-api.md)。

### 表示

所有资源都期望并返回 JSON 响应主体。错误响应也会发送一个 JSON 主体。要了解有关 API 错误格式的更多信息，请阅读[错误](overview.md#errors)。

实际上，这意味着您始终会收到一个带有 `Content-Type` 标头设置为 `application/json` 的响应。

此外，对于 `PATCH`、`POST` 和 `PUT` 请求，请求主体必须编码为 JSON，并且 `Content-Type` 标头设置为 `application/json`。

### 错误

API 总是以通用格式返回错误。以下是一个示例：

```json
{
    "success": false,
    "errors": [
        "未经授权"
    ],
    "data": null
}
```

**errors** 表示错误的一般类。

### CORS

FeatBit API 支持来自任何来源的 AJAX 请求的跨域资源共享（CORS）。如果请求中包含 `Origin` 标头，则它将作为明确允许的来源进行回显。否则，请求将返回一个通配符，即 `Access-Control-Allow-Origin: *`。有关 CORS 的更多信息，请阅读[CORS W3C 建议](http://www.w3.org/TR/cors)。示例 CORS 标头可能如下：

```
Access-Control-Allow-Headers: Accept, Content-Type, Content-Length, Accept-Encoding, Authorization
Access-Control-Allow-Methods: OPTIONS, GET, DELETE, PATCH
Access-Control-Allow-Origin: *
Access-Control-Max-Age: 300
```

您可以进行经过身份验证的 CORS 调用，就像进行同源调用一样，使用访问令牌进行身份验证。切勿将您的访问令牌暴露给不受信任的实体。