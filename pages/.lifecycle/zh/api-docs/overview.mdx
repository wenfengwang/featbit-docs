
从 'nextra/components' 导入 { Callout } 组件

# 应用程序编程接口（API）

<Callout type="info">
The current article is a general introduction of how to make requests to the FeatBit REST API, for a complete list of the APIs and how to use each of them, we have made a redoc powered document available [here](https://featbit-tio-eu-api.azurewebsites.net/docs/index.html). If you are running FeatBit locally or on your server, you can also point to the url: <strong>URL\_OF\_API\_SERVER/docs.</strong> For example, the url should be <strong>http://localhost:5000/docs</strong> if you are running FeatBit on your local machine without https.
</Callout>


### 认证

所有 REST API 资源均需通过[个人或服务访问令牌](../integrations/api-access-tokens.md)进行认证。我们不支持其他认证机制。您可以在**集成/访问令牌**页面上管理您的个人访问令牌。

#### 通过请求头进行认证

与 API 进行认证的唯一方式是在您的请求中添加包含访问令牌的 `Authorization` 请求头。`Authorization` 请求头的值必须是您的访问令牌。要了解如何添加此请求头，请参考[Using FeatBit REST API](using-featbit-rest-api.md)。

### 数据表述

所有资源都期望接收并返回 JSON格式的响应体。错误响应同样会发送 JSON格式的数据。要了解API的错误格式的更多信息，请阅读[错误](overview.md#errors)一节。

这实际上意味着您总是会收到一个设置了 Content-Type 请求头为 application/json 的响应。

此外，PATCH、POST 和 PUT 请求的请求体必须以 JSON 编码，并且设置 Content-Type 请求头为 application/json。

### 错误处理

API 总是以一种通用的格式返回错误。以下是一个例子：

```json
{
    "success": false,
    "errors": [
        "Unauthorized"
    ],
    "data": null
}
```

错误**显示**了错误的一般类别。

### 跨源资源共享（CORS）

FeatBit API 支持对任何来源的 AJAX 请求进行**跨源资源共享（CORS）**。如果请求中包含了 `Origin` 请求头，它将被回显为一个明确允许的来源。如果没有，则请求将返回一个通配符，`Access-Control-Allow-Origin: *`。要了解更多关于 CORS 的信息，请阅读[CORS W3C 推荐标准](http://www.w3.org/TR/cors)。CORS 请求头的示例可能如下：

```
Access-Control-Allow-Headers: Accept, Content-Type, Content-Length, Accept-Encoding, Authorization
Access-Control-Allow-Methods: OPTIONS, GET, DELETE, PATCH
Access-Control-Allow-Origin: *
Access-Control-Max-Age: 300
```

您可以像进行同源调用一样，使用访问令牌认证来进行经过认证的 CORS 调用。您绝不应将您的访问令牌暴露给不受信任的实体。
