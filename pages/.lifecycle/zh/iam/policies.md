# 策略

您可以通过创建策略并将其附加到 IAM 身份（用户、用户组）或 FeatBit 资源来管理 FeatBit 中的访问权限。策略是 FeatBit 中的一个对象，当与身份或资源关联时，定义了它们的权限。FeatBit 会在 IAM 成员发出请求时评估这些策略。策略中的权限决定请求是被允许还是被拒绝。

## 控制级别（资源类型）

FeatBit 策略现在支持三种控制级别（也称为资源类型）：

* **All**，控制是否允许或拒绝成员（或成员组）访问所有资源。
* **General**，控制成员对账户、IAM 和项目资源级别的访问权限。
* **Project**，控制成员对项目的访问权限。
* **Environment**，控制成员对所有环境的访问权限。

## 内置策略

FeatBit 提供了三个无法修改的内置策略。如果需要，您可以复制并根据自己的需求进行修改。

![](../iam/assets/policies/001.webp)

## 添加策略

1\. 转到策略页面，点击“添加”按钮。

2\. 在添加策略抽屉中，输入新策略的名称和描述。然后点击 **“保存”** 创建。

3\. 新条目将被添加到策略列表中。您可以按名称筛选策略，以找到您刚刚创建的策略。

4\. 点击您刚刚创建的策略（或点击 **“详情”** 操作按钮）。进入策略详情页面。

## 策略详情页面

策略详情页面由以下 6 个部分组成：

* 策略的名称和描述
* 策略类型（由系统生成）
* 资源名称
* 权限列表，可以添加、更新和删除策略权限
* 团队，可以将此策略分配给成员或从成员中移除策略
* 组，可以将此策略分配给组或从组中移除策略。

## 添加权限

1\. 点击 `(+)` 图标，一个新的空白权限表单会出现。

2\. 选择控制级别（资源类型）。如果您想控制环境级别的访问权限，请选择 **`Environment`**。

3\. 选择您想要拒绝或允许访问的资源。

* 在资源选择器中，我们选择 project/explore:env/Dev。这意味着我们要分配访问权限的 `product` 环境属于项目 `explore`。您可以选择多个资源，这里我们只选择了一个。
* 在允许或拒绝选择器中，我们选择 `Allow`。
* 在操作选择器中，我们选择 `Access environments`。

4\. 点击 **“保存”**。您可以在一个策略中创建多个权限。

上面我们创建的权限允许拥有该权限的成员访问项目 `explore` 下的 `product` 环境中的所有资源，但这些成员不能修改资源。

每个策略可以添加多个权限。

## 删除权限

您可以通过点击权限列表中的 `Remove` 按钮来删除权限。

![](../iam/assets/policies/002.webp)

## 向成员分配权限

1\. 转到策略详情页面，切换到 **“团队”** 选项卡。

2\. 将选择器设置为 `All`，您将看到组织中的所有成员。

![](../iam/assets/policies/003.webp)

3\. 查找您想要分配策略的成员。点击列表中成员项旁的 **“添加”** 按钮。

4\. 将选择器从 `All` 更改为 `Members with current policy`。您将只看到拥有当前策略的成员。

![](../iam/assets/policies/004.webp)

5\. 点击 **“移除”** 按钮从策略中移除成员。

## 向组分配权限

1\. 进入策略详情页面，切换到 **“组”** 选项卡。

2\. 将选择器设置为 `All`，您将看到组织中的所有组。

![](../iam/assets/policies/005.webp)

3\. 找到您想要分配策略的组。点击列表中组项旁的 **“添加”** 按钮。

4\. 将选择器从 `All` 更改为 `Groups with current policy`。您将只看到拥有当前策略的组。

![](../iam/assets/policies/006.webp)

5\. 点击 **“移除”** 按钮从策略中移除组。

