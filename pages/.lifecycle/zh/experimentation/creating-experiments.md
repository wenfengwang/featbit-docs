# 创建实验

## 概述

本主题介绍如何在 FeatBit 中设置和配置实验。它介绍了指标的概念，解释了不同的指标类型，并解释了指标如何与功能标志交互以创建实验。

在 FeatBit 中，指标和标志的组合是一个实验。实验让您通过将功能标志映射到团队关心的指标来衡量这些标志对用户的影响。

## 创建指标 

指标是您用来评估功能标志事件的度量。您可以使用指标来跟踪各种事项，从用户访问 URL 的频率到该 URL 加载页面所需的时间。如果用户加载 URL、点击元素或以其他方式参与指标跟踪的行为，则可以使用 FeatBit SDK 将事件发送到您的实验中。

您无需为每个新实验创建新指标。您可以在多个实验中重复使用现有指标，这样您就可以比较指标在不同功能标志下的表现。同样，单个实验可以使用主要和次要指标，这允许您观察变体在各种度量上的表现。

### 使用主要和次要指标 

您只能在一个实验中指定一个指标作为主要指标，但如果您想跟踪其他度量的表现，则可以附加次要指标到您的实验中。我们建议每个实验使用的指标不超过 10 个。

主要指标有时被称为“总体评估准则”。当您在实验中做出关于胜出变体的决策时，您应该仅基于主要指标进行决策，因为当您在决策中包含多个指标时，决策过程会变得更加复杂。

如果您只使用一个指标，那么有两种可能的结果：上升或下降。如果您使用两个指标，那么有四种可能的结果组合：上升/下降、下降/上升、上升/上升或下降/下降。

对于您在实验中添加的每个指标，可能的结果都会迅速增加。如果您使用三个指标，那么有八种不同的可能结果组合。如果您使用 10 个指标，那么有 1,024 种可能的结果组合。因此，我们建议您仅基于主要指标进行决策。

### 指标类型

下表说明了您可以使用指标跟踪的事件类型及其 SDK 兼容性：

<table><thead><tr><th width="217.33333333333331">指标类型</th><th>描述 &#x26; 示例用途</th></tr></thead><tbody><tr><td>点击转化</td><td>跟踪用户界面（UI）元素的点击。<br><br>- 用户点击“保存”按钮的频率如何？<br>- 用户点击链接的次数？<br>- 在流程中什么时候是展示注册邀请的最佳时机？</td></tr><tr><td>自定义转化</td><td>跟踪任意自定义事件。<br><br>- 用户搜索是否调用了特定服务？<br>- 客户是否在规定时间内联系了客服？<br>- 客户是否在 30 天内续签了合同？用户支付是否成功？</td></tr><tr><td>页面查看转化</td><td>跟踪页面被查看的次数。<br><br>- 用户查看博客文章的次数有多少？</td></tr><tr><td>自定义数值</td><td>跟踪数值相对于您设定的基线的增加或减少。<br><br>- 用户在我的商店中每笔交易花费多少？<br>- 用户总共花费了多少？<br>- 用户每笔交易购买了多少件商品？<br>- 用户总共购买了多少件商品？<br>- 用户在页面上花费了多少时间？<br>- 服务器响应请求需要多久？<br>- 第一个字节的时间（TTFB）有多长？</td></tr></tbody></table>

### 创建指标

转到**实验**页面，在**指标**标签下，点击**添加指标**按钮。

![](../experimentation/assets/creating-experiments/001.webp)

在指标抽屉中，填写指标信息。

![](../experimentation/assets/creating-experiments/002.webp)

* `Name`，指标名称
* `Description`，（可选）指标描述
* `Maintainer`，此指标的维护者
* `Event type`，FeatBit 目前只有 `custom` 事件类型，但实际上支持以下类型：
  * 自定义转化，您需要在选择器下方选择**转化率**
  * 自定义数值，您需要在选择器下方选择**数值**
  * 点击转化和页面查看转化，这些可以视为自定义转化
* `Event name`，将在 FeatBit 实验评估中标识事件的名称。当您调用 SDK 跟踪事件时，将会传递这个名称作为参数。
* `Unit`，当您选择数值作为事件类型时，这将标识您正在测量的数值类型。
* `Winning criteria`，通过选择`高于基线`或`低于基线`来定义胜出标准

## 创建实验

返回到**概述**子面板，然后点击**添加**按钮。

![](../experimentation/assets/creating-experiments/003.webp)

在**实验**抽屉中，选择您之前创建的功能标志，选择一个**指标**，选择一个变体作为基线。点击**保存**按钮。

![](../experimentation/assets/creating-experiments/004.webp)

## 运行实验

在实验列表中，点击一个实验的**查看结果**按钮。

![](../experimentation/assets/creating-experiments/005.webp)

您将被引导至功能标志的**实验**标签页。在实验中点击开始按钮，实验开始运行！

![](../experimentation/assets/creating-experiments/006.webp)

## 创建实验受众

您可以在功能标志的默认规则下运行实验，也可以通过选择特定的功能标志定位规则来创建自定义实验受众。您可以根据收集的任何用户属性进行定位。要了解如何操作，请阅读[定位规则](../feature-flags/targeting-users-with-flags/targeting-rules.md)。

在构建实验时，您可以分配遇到功能标志的全部或一部分用户流量给实验。受众分配为您选择实验受众提供了灵活性，并确保实验结果的准确性。FeatBit 仅分析您选择参与实验的用户。

您可以通过点击**设置 A/B 测试规则**按钮来选择特定的功能标志定位规则。

![](../experimentation/assets/creating-experiments/007.webp)

您可以在抽屉面板中配置特定的 A/B 测试流量。下图显示，只有 10% 匹配默认规则的用户被包括在实验中。80% 匹配默认规则的 v1 用户被排除在实验之外。

![](../experimentation/assets/creating-experiments/008.webp)

