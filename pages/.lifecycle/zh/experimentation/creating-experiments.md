# 创建实验

## 概述

本主题解释了如何在 FeatBit 中设置和配置实验。它介绍了指标的概念，解释了不同的指标类型，并说明了指标如何与功能标志交互以创建实验。

在 FeatBit 中，指标和标志的组合就是一个实验。实验可以让您通过将标志映射到团队关心的指标来衡量标志对用户的影响。

## 创建指标 

指标是您评估标志事件的依据。您可以使用指标来跟踪各种内容，从用户访问 URL 的频率到该 URL 加载页面所需的时间。如果用户加载了一个 URL、点击了一个元素，或以其他方式参与了指标跟踪的行为，您可以使用 FeatBit SDK 向您的实验发送一个事件。

您无需为每个新实验创建新的指标。您可以在多个实验中重复使用现有的指标，这样您就可以比较指标在不同标志下的表现。同样，单个实验可以使用主要和次要指标，这样您就可以观察不同变体在各种测量中的表现。

### 使用主要和次要指标 

您只能将一个指标指定为实验中的主要指标，但如果您想跟踪其他衡量指标的效果，可以将次要指标附加到您的实验中。我们建议每个实验使用的指标不超过 10 个。

主要指标有时被称为“总体评估标准”。当您在实验中做出胜出变体的决策时，您应该仅根据主要指标做出决策，因为当您在决策中包含多个指标时，决策会变得更加复杂。

如果只使用一个指标，有两种可能的结果：上升或下降。如果使用两个指标，有四种可能的结果组合：上升/下降、下降/上升、上升/上升或下降/下降。

对于每个添加到实验中的指标，可能的结果组合会迅速增加。如果使用三个指标，就会有八种不同的可能结果组合。如果使用 10 个指标，就会有 1,024 种可能的结果组合。因此，我们建议您仅根据主要指标做出决策。

### 指标类型

下表说明了您可以使用指标跟踪的事件类型及其 SDK 兼容性：

<table><thead><tr><th width="217.33333333333331">指标类型</th><th>说明及示例</th></tr></thead><tbody><tr><td>点击转化</td><td>跟踪用户界面（UI）元素的点击。<br><br>- 用户多频繁点击“保存”按钮？ <br>- 用户点击链接的次数？ <br>- 在流程中的最佳时间点显示注册邀请？</td></tr><tr><td>自定义转化</td><td>跟踪任意事件的发生。<br><br>- 用户搜索是否调用特定服务？ <br>- 客户在规定时间内联系客服？ <br>- 客户在 30 天内续签合同？用户支付成功了吗？</td></tr><tr><td>页面查看转化</td><td>跟踪页面被查看的次数。<br><br>- 用户查看博客文章的次数？</td></tr><tr><td>自定义数值</td><td>相对于您设置的基线，跟踪数值的增加或减少。<br><br>- 用户在我的商店每笔交易的平均花费？ <br>- 用户的总花费？ <br>- 用户每笔交易购买的商品数量？ <br>- 用户总购买的商品数量？ <br>- 用户在页面上的停留时间？ <br>- 服务器响应请求的时间？ <br>- 首字节到达时间（TTFB）？</td></tr></tbody></table>

### 创建指标

转到**实验**页面，在**指标**选项卡中，单击**添加指标**按钮。

![](../experimentation/assets/creating-experiments/001.webp)

在指标抽屉中，填写指标信息。

![](../experimentation/assets/creating-experiments/002.webp)

* `名称`，指标的名称
* `描述`，（可选）指标的描述
* `维护者`，此指标的维护者
* `事件类型`，FeatBit 目前只有 `custom` 事件类型，但实际上它支持以下类型：
  * 自定义转化，您需要在选择**选择器下方**选择**转化率**
  * 自定义数值，您需要在选择**选择器下方**选择**数值**
  * 点击转化和页面查看转化，这些可以视为自定义转化
* `事件名称`，该名称将标识 FeatBit 实验评估中的事件。当您调用 SDK 跟踪事件时，此名称将作为参数传递。
* `单位`，当您选择“数值”作为事件类型时，这将标识您正在测量的数值类型。
* `胜出标准`，通过选择“高于基线”或“低于基线”来定义胜出标准

## 创建实验

返回到**概述**子面板，然后单击**添加**按钮。

![](../experimentation/assets/creating-experiments/003.webp)

在**实验**抽屉中，选择您之前创建的功能标志，选择一个**指标**，将一个变体作为基线。然后单击**保存**按钮。

![](../experimentation/assets/creating-experiments/004.webp)

## 运行实验

在实验列表中，单击一个实验的**检查结果**按钮。

![](../experimentation/assets/creating-experiments/005.webp)

您将被带到功能标志的**实验**选项卡。点击实验中的**开始**按钮。实验开始运行！

![](../experimentation/assets/creating-experiments/006.webp)

## 创建实验受众群体 

您可以在标志的默认规则上运行实验，也可以通过选择特定标志定位规则来创建自定义实验受众群体。您可以按照您收集的任何用户属性进行定位。要了解详情，请阅读[定位规则](../feature-flags/targeting-users-with-flags/targeting-rules.md)。

在构建实验时，您可以分配遇到标志的用户流量的全部或一部分给实验。受众分配可以让您在选择实验受众时更加灵活，并确保实验结果的准确性。FeatBit 仅分析您选择参与实验的用户。

您可以通过点击**设置 A/B 测试规则**按钮来选择特定的标志定位规则。

![](../experimentation/assets/creating-experiments/007.webp)

您可以在抽屉面板中配置特定的 A/B 测试流量。下图显示，实验中只包括了 10% 的匹配默认规则的用户。80% 匹配默认规则 v1 的用户被排除在实验之外。

![](../experimentation/assets/creating-experiments/008.webp)

