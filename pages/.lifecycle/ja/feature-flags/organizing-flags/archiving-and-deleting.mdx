import { Callout } from 'nextra/components'

# アーカイブと削除

## 概要

このトピックでは、必要がなくなったフラッグをアーカイブしたり、アーカイブされたフラッグを削除する方法について説明します。

ユーザーにサービスされなくなったフラッグは、アーカイブすることが適しています。フラッグをアーカイブすると、そのフラッグは削除されずに非アクティブ化されます。必要な場合はアーカイブされたフラッグを復元したり、設定内容を参照することができます。

プロジェクトで不要になったアーカイブ済みのフラッグは、削除することができます。

## フラッグをアーカイブする

フラッグは、選択した環境で**1つのバリエーションのみをサービスしており**、**過去7日以内にリクエストされていない**場合、アーカイブの候補です。

FeatBitでフラッグをアーカイブする際には、コードからもフラッグを削除する必要があります。

<Callout type="warning">
アーカイブされたフラッグをコードから削除しない場合、該当フィーチャーを利用するユーザー全員がフォールバック値を受け取ります。
</Callout>

<Callout type="error">
アーカイブされたフラッグに意図しない影響がないことを確認してください。
</Callout>

フラッグをアーカイブする手順：

1. フラッグ一覧に移動します。
2. アーカイブするフラッグを見つけます。
3. フラッグ名または「詳細」リンクをクリックして、詳細ページに移動します。
4. **アーカイブ**をクリックします。確認ダイアログが表示されます。

![](../../feature-flags/assets/organizing-flags/archiving-and-deleting/001.png)

5. **Ok**をクリックします。

フラッグがアーカイブされ、フラッグ一覧から削除されます。アーカイブされたフラッグはアーカイブ済みフラッグ一覧で見つけることができます。詳細は、「アーカイブされたフラッグの表示と復元」を参照してください。

## アーカイブされたフラッグの表示

フラッグ一覧からはアーカイブされたフラッグは表示されません。アーカイブされたフラッグを表示するには「アーカイブ済み」のチェックボックスをオンにします：

![](../../feature-flags/assets/organizing-flags/archiving-and-deleting/002.png)

## アーカイブされたフラッグの復元と削除

フラッグをアーカイブした後、復元または削除することができます。

アーカイブされたフラッグを復元すると、他のフラッグと同様に評価されます。したがって、フラッグを復元する前に、予期しない影響がないことを確認することが重要です。

<Callout type="warning">
アーカイブされたフラッグを削除すると、アプリケーションコードで定義されたフラッグ値がすべてのユーザーに返されます。フラッグを削除する前に、アプリケーションコードからフィーチャーフラッグへのすべての参照を削除してください。
</Callout>

<Callout type="error">
フラッグを削除すると、復元することはできません。フラッグが不要になったことを絶対に確認してから削除してください。
</Callout>

フラッグを復元または削除する手順：

1. フラッグ一覧に移動します。
2. アーカイブ済みのフラッグを表示するために「アーカイブ済み」のチェックボックスをオンにします。
3. 復元または削除したいフラッグを見つけます。
4. フラッグ名または「詳細」リンクをクリックして、詳細ページに移動します。
5. もしフラッグを復元したい場合は、**復元**をクリックします。もしフラッグを削除したい場合は、**永久に削除**をクリックします。

![](../../feature-flags/assets/organizing-flags/archiving-and-deleting/003.png)