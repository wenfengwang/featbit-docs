import { Callout } from 'nextra/components'

# API

<Callout type="info">
現在の記事では、FeatBit REST APIへのリクエストの方法についての一般的な紹介をしています。各APIの完全なリストとそれぞれの使用方法については、[こちら](https://featbit-tio-eu-api.azurewebsites.net/docs/index.html)にRedocで作成されたドキュメントが利用可能です。FeatBitをローカルまたはサーバーで実行している場合は、次のURLにアクセスできます: <strong>URL\_OF\_API\_SERVER/docs.</strong> 例えば、ローカルマシンでFeatBitを実行している場合は、次のURLにアクセスできます: <strong>http://localhost:5000/docs</strong>。
</Callout>

### 認証

すべてのREST APIリソースは、[個人アクセストークンまたはサービスアクセストークン](../integrations/api-access-tokens.md)を使用して認証されます。他の認証メカニズムはサポートされていません。個人アクセストークンは**Integration/Access tokens**ページで管理できます。

#### リクエストヘッダを使用した認証

APIとの認証方法は、リクエストにアクセストークンを含む`Authorization`ヘッダを追加することです。`Authorization`ヘッダの値はアクセストークンでなければなりません。このヘッダを追加する方法については、[Using FeatBit REST API](using-featbit-rest-api.md)を参照してください。

### 表現

すべてのリソースはJSON応答ボディを期待し、JSON応答ボディを返します。エラーレスポンスもJSONボディを送信します。APIのエラーフォーマットについては、[エラー](overview.md#errors)を読んでください。

このことから、常に`Content-Type`ヘッダが`application/json`に設定された応答を受け取ることになります。

さらに、`PATCH`、`POST`、`PUT`リクエストのリクエストボディは、`Content-Type`ヘッダが`application/json`に設定されたJSONでエンコードする必要があります。

### エラー

APIは常に共通の形式でエラーを返します。以下は例です：

```json
{
    "success": false,
    "errors": [
        "Unauthorized"
    ],
    "data": null
}
```

**errors**はエラーの一般的なクラスを示します。

### CORS

FeatBit APIは、任意のオリジンからのAJAXリクエストに対してクロスオリジンリソース共有（CORS）をサポートしています。リクエストに`Origin`ヘッダーが指定されている場合、許可されたオリジンとしてエコーバックされます。それ以外の場合、リクエストはワイルドカード`Access-Control-Allow-Origin: *`を返します。CORSについての詳細は、[CORS W3C Recommendation](http://www.w3.org/TR/cors)を参照してください。例えば、CORSのヘッダーは以下のようになります:

```
Access-Control-Allow-Headers: Accept, Content-Type, Content-Length, Accept-Encoding, Authorization
Access-Control-Allow-Methods: OPTIONS, GET, DELETE, PATCH
Access-Control-Allow-Origin: *
Access-Control-Max-Age: 300
```

アクセストークン認証を使用して、同じオリジンの呼び出しと同じように、認証付きのCORS呼び出しを行うことができます。アクセストークンを信用できないエンティティに公開しないでください。