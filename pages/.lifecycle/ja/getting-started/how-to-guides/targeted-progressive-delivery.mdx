```markdown
import { コールアウト } from 'nextra/components'

# ターゲットされたプログレッシブデリバリー

> **ターゲットされたプログレッシブデリバリー**
>
> 彼らはチームに、何も壊さずに素早く進む自信を与えます。 FeatBitには精密なユーザーターゲティングと、リング展開、パーセンテージ展開、カナリー・ローンチなど、さまざまなターゲットロールアウトを可能にするフィーチャーフラグルールがあります。これらのターゲットを絞った段階的なリリース戦略またはリリースフローは、大規模な一括ウォーターフォールリリースよりもはるかにリスクが少なくすみます。コードを速く書き、リスクを減らし、顧客体験を継続的に改善するために、ターゲットされたプログレッシブデリバリーテクニックを活用してください。

## 前提条件

私たちは、「はじめに」の過去3つのチュートリアルを既に完了していると仮定します：

* チュートリアル [デモ用に2つのフラグを作成する](../create-two-feature-flags.md) で、`game runner`と`difficulty mode`という2つのフィーチャーフラグを作成済みです。
* どのように "`Dino Game` " デモとやり取りするかについて基本的な経験があります (../try-interacting-with-the-demo.md) 。
* プログラムや "Dino Game" のデモに SDK を接続する方法を知っています：
  * デモのコードサンプルをダウンロードします
  * SDK を初期化します
  * カスタマイズされたプロパティを持つユーザーを特定します。
  * フィーチャーフラグを実装して、そのフィーチャーを制御します

## ゲームを段階的にリリースする

プロダクションでの "Dino Game" のテスト後も、ゲームが正常に動作するかどうかについては心配です。全ユーザーにとってのインシデントを避けるために、機能を段階的にリリースします。デフォルトでは、機能を以下のペースでリリースすることを計画しています。

1.  最初は5％
2.  直前の5％のユーザーのためのバグがない場合、20％
3.  直前の20％のユーザーのための明白なバグがない場合、50％
4.  直前の50％のユーザーに明白なバグがない場合、100％

これを達成するためには、デフォルトルールを "ロールアウトパーセンテージ" に変更し、例えば10％を `true` に、90％を `false` に割り当てるだけです。

![画像](../../getting-started/assets/targeted-progressive-delivery/001.webp)

これは、10％のユーザーが `true` バリエーションを受け取り、その真のバリエーションを受け取ったユーザーに DinoGame がリリースされることを意味します。

![画像](../../getting-started/assets/targeted-progressive-delivery/002.webp)

リリースプロセス中に悪いフィードバック（バグ）に遭遇した場合は、すぐにロールアウトパーセンテージを再割り当てすることにより、機能のリリースを即座に元に戻すことができます。

<コールアウト type="info">
  ロールアウトのパーセンテージアルゴリズムは通常のランダム分布アルゴリズムであり、エンドユーザーIDに基づいて計算されます。

  ![画像](../../getting-started/assets/targeted-progressive-delivery/003.webp)
</コールアウト>

## 組織に段階的にリリースする

時には、全ユーザーではなく特定の組織に段階的にリリースしたい場合があります。そのためには、「Rules」セクションにルールを作成できます。

### ルールのためのユーザープロパティを作成する

まず、Portal でルールプロパティを作成する必要があります。 "エンドユーザー" ページに移動し、"プロパティ" ボタンをクリックします。

![画像](../../getting-started/assets/targeted-progressive-delivery/004.webp)

"orgId" という新しいプロパティ名を追加し、それを作成するために "保存" をクリックします。

![画像](../../getting-started/assets/targeted-progressive-delivery/005.webp)

作成したプロパティに事前定義された値を追加できます。

![画像](../../getting-started/assets/targeted-progressive-delivery/006.webp)

### システムにプロパティと値を渡す（開発者向け）

SDK を初期化する際に "orgId" プロパティとその値が FeatBit システムに渡されていることを確認してください。先ほど作成したプロパティのキーが、SDK 初期化のコードで渡したものと同じであることを確認してください。

![画像](../../getting-started/assets/targeted-progressive-delivery/007.webp)

FeatBit システムは、SDK を介して渡されたプロパティとその値を、Portal で構成したプロパティと値と比較します。

### Company AA への段階的なリリース

"game runner" フィーチャーフラグの "Targeting" ページに戻ります。新しいルールを作成し、「Company AA への段階的なリリース」という名前のルールを追加します。

1. ユーザーの "orgId" がリストにある場合、このユーザーは `true` バリエーションを受信する機会が10％あります。

![画像](../../getting-started/assets/targeted-progressive-delivery/008.webp)

上記で設定したルールにより、DinoGame は Company AA のユーザーの10％にリリースされます。リリースプロセス中に悪いフィードバック（バグ）に遭遇した場合は、すぐにロールアウトパーセンテージを再割り当てすることにより、機能のリリースを即座に元に戻すことができます。
```