# ポリシー

FeatBitでは、ポリシーを作成し、それらをIAMアイデンティティ（ユーザー、ユーザーグループ）またはFeatBitリソースに添付することで、アクセスを管理します。ポリシーはFeatBitのオブジェクトであり、アイデンティティやリソースに関連付けられると、そのアクセス権限を定義します。FeatBitはIAMメンバーのリクエスト時にこれらのポリシーを評価します。ポリシーの中の権限によってリクエストが許可されるか拒否されるかが決まります。

## コントロールレベル（リソースタイプ）

FeatBitポリシーは現在、3つのコントロールレベル（リソースタイプ）をサポートしています。

* **All**：すべてのリソースがメンバー（またはメンバーグループ）に許可されるか拒否されるかを制御します。
* **General**：アカウント、IAM、プロジェクトのリソースレベルのメンバーのアクセス権限を制御します。
* **Project**：プロジェクトのメンバーのアクセス権限を制御します。
* **Environment**：すべての環境のメンバーのアクセス権限を制御します。

## 組み込みポリシー

FeatBitには変更できない3つの組み込みポリシーが用意されています。必要な場合は、コピーを作成して独自のニーズに合わせて変更できます。

![](../iam/assets/policies/001.webp)

## ポリシーの追加

1\. ポリシーページに移動し、追加ボタンをクリックします。

2\. 追加ポリシードロワーで、新しいポリシーの名前と説明を入力します。その後、**保存**をクリックして作成します。

3\. ポリシーリストに新しい項目が追加されます。作成したポリシーを名前でフィルタリングして見つけることができます。

4\. 作成したポリシーをクリックします（または**詳細**アクションボタンをクリックします）。ポリシーの詳細ページに移動します。

## ポリシーの詳細ページ

ポリシーの詳細ページは6つの部分で構成されています。

* ポリシーの名前と説明
* ポリシーのタイプ（システムによって生成される）
* リソース名
* 権限リスト：ポリシーの権限を追加、更新、削除できます
* チーム：このポリシーをメンバーに割り当てるか、メンバーからポリシーを削除できます
* グループ：このポリシーをグループに割り当てるか、グループからポリシーを削除できます

## 権限の追加

1\. `(+)` アイコンをクリックすると、新しい空の権限フォームが表示されます。

2\. コントロールレベル（リソースタイプ）を選択します。環境レベルのアクセス権限を制御したい場合は、**`Environment`**を選択します。

3\. アクセスを許可または拒否するリソースを選択します。

* リソースセレクターで、project/explore:env/Dev を選択します。これは、`product`環境にアクセス権限を割り当てるもので、プロジェクト`explore`に属します。複数のリソースを選択できますが、ここでは1つだけ選択します。
* 許可または拒否セレクターで、`許可`を選択します。
* アクションセレクターで、`環境へのアクセス`を選択します。

4\. **保存**をクリックします。1つのポリシーで複数の権限を作成できます。

上記の権限を作成すると、この権限を持つメンバーは、`explore`プロジェクトの`product`環境内のすべてのリソースにアクセスできますが、そのメンバーはリソースを変更することはできません。

各ポリシーに複数の権限を追加できます。

## 権限の削除

権限リストから`削除`ボタンをクリックして権限を削除できます。

![](../iam/assets/policies/002.webp)

## メンバーへの権限の割り当て

1\. ポリシーの詳細ページに移動し、**チーム**タブに切り替えます

2\. セレクターを`すべて`に設定すると、組織内のすべてのメンバーが表示されます

![](../iam/assets/policies/003.webp)

3\. ポリシーを割り当てるメンバーを見つけます。リスト内のメンバー項目の**追加**ボタンをクリックします。

4\. セレクターを`すべて`から`現在のポリシーを持つメンバー`に変更します。現在のポリシーを持つメンバーのみが表示されます。

![](../iam/assets/policies/004.webp)

5\. メンバーをポリシーから削除するには、**削除**ボタンをクリックします。

## グループへの権限の割り当て

1\. ポリシーの詳細ページに移動し、**グループ**タブに切り替えます

2\. セレクターを`すべて`に設定すると、組織内のすべてのグループが表示されます

![](../iam/assets/policies/005.webp)

3\. ポリシーを割り当てるグループを見つけます。リスト内のグループ項目の**追加**ボタンをクリックします。

4\. セレクターを`すべて`から`現在のポリシーを持つグループ`に変更します。現在のポリシーを持つグループのみが表示されます。

![](../iam/assets/policies/006.webp)

5\. グループをポリシーから削除するには、**削除**ボタンをクリックします。