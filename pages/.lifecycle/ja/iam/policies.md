# ポリシー

FeatBitでは、ポリシーを作成し、それらをIAMのアイデンティティ（ユーザー、ユーザーグループ）またはFeatBitのリソースに割り当てることで、アクセスを管理します。ポリシーは、FeatBit内のオブジェクトであり、アイデンティティまたはリソースと関連付けると、その権限を定義します。IAMメンバーがリクエストを行う際に、FeatBitはこれらのポリシーを評価します。ポリシー内の権限によって、リクエストが許可されるか拒否されるかが決まります。

## コントロールレベル（リソースタイプ）

FeatBitのポリシーは、現在3つのコントロールレベル（またはリソースタイプ）をサポートしています：

- **全体**：メンバー（またはメンバーグループ）に対してすべてのリソースが許可されるか拒否されるかを制御します。
- **一般**：アカウント、IAM、およびプロジェクトのリソースレベルのアクセス許可を制御します。
- **プロジェクト**：プロジェクトのアクセス許可を制御します。
- **環境**：すべての環境のアクセス許可を制御します。

## 組み込みポリシー

FeatBitでは、変更できない3つの組み込みポリシーが提供されています。必要に応じて、これらのポリシーをコピーして変更することができます。

![](../iam/assets/policies/001.webp)

## ポリシーの追加

1. ポリシーページに移動し、追加ボタンをクリックします。

2. 追加ポリシードロワーで、新しいポリシーの名前と説明を入力します。その後、**保存**をクリックして作成します。

3. 新しいアイテムがポリシーリストに追加されます。ポリシーを名前でフィルタリングして、作成したポリシーを見つけることができます。

4. 作成したポリシーをクリックします（または**詳細**アクションボタンをクリックします）。ポリシーの詳細ページに移動します。

## ポリシーの詳細ページ

ポリシーの詳細ページは、次の6つのパーツで構成されています。

- ポリシーの名前と説明
- ポリシーの種類（システムによって生成されます）
- リソース名
- 権限リスト：ポリシーの権限を追加、更新、削除できます
- チーム：このポリシーをメンバーに割り当てるか、メンバーから削除できます
- グループ：このポリシーをグループに割り当てるか、グループから削除できます。

## 権限の追加

1. `(+)`アイコンをクリックすると、新しい空の権限フォームが表示されます。

2. コントロールレベル（リソースタイプ）を選択します。環境レベルのアクセス許可を制御する場合は、**`環境`**を選択します。

3. アクセスを許可または拒否するリソースを選択します。

- リソースセレクターで、プロジェクト/エクスプローラ：環境/Devを選択します。これは、割り当てたいアクセス先の`product`環境が`explore`プロジェクトに属していることを意味します。複数のリソースを選択できますが、ここでは1つだけを選択します。
- 許可または拒否セレクターで、`許可`を選択します。
- アクションセレクターで、`環境へのアクセス`を選択します。

4. **保存**をクリックします。1つのポリシーに複数の権限を作成できます。

上記で作成した権限は、この権限を持つメンバーが`explore`プロジェクトの`product`環境のすべてのリソースにアクセスできるようにしますが、これらのメンバーはリソースを変更することはできません。

各ポリシーには複数の権限を追加できます。

## 権限の削除

権限リストから`削除`ボタンをクリックすることで、権限を削除することができます。

![](../iam/assets/policies/002.webp)

## メンバーへの権限の割り当て

1. ポリシーの詳細ページに移動し、**チーム**タブに切り替えます。

2. セレクターを`All`に設定すると、組織のすべてのメンバーが表示されます。

![](../iam/assets/policies/003.webp)

3. ポリシーを割り当てるメンバーを探します。リストのメンバーアイテムで**追加**ボタンをクリックします。

4. セレクターを`現在のポリシーを持つメンバー`に変更します。現在のポリシーを持つメンバーのみが表示されます。

![](../iam/assets/policies/004.webp)

5. ポリシーからメンバーを削除するには、**削除**ボタンをクリックします。

## グループへの権限の割り当て

1. ポリシーの詳細ページに移動し、**グループ**タブに切り替えます。

2. セレクターを`All`に設定すると、組織のすべてのグループが表示されます。

![](../iam/assets/policies/005.webp)

3. ポリシーを割り当てるグループを探します。リストのグループアイテムで**追加**ボタンをクリックします。

4. セレクターを`現在のポリシーを持つグループ`に変更します。現在のポリシーを持つグループのみが表示されます。

![](../iam/assets/policies/006.webp)

5. ポリシーからグループを削除するには、**削除**ボタンをクリックします。