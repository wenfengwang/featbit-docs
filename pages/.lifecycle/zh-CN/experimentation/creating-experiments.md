# 创建实验

## 概述

本主题介绍了如何在FeatBit中设置和配置实验。它介绍了度量标准的概念，解释了不同的度量标准类型，并解释了度量标准与特征标志如何相互作用以创建实验。

在FeatBit中，度量标准和标志的组合是一个实验。通过将标志映射到团队关心的度量标准，您可以测量标志对用户的影响。

## 创建度量标准

度量标准是您评估标志事件的衡量标准。您可以使用度量标准来跟踪各种事物，例如用户访问URL的频率，URL加载页面所需的时间等等。如果用户加载一个URL，点击一个元素，或以其他方式参与度量标准跟踪的行为，您可以使用FeatBit SDK发送一个事件到您的实验。

您不需要为每个新实验创建一个新的度量标准。您可以在多个实验中重复使用现有的度量标准，这样可以比较度量标准在不同标志下的表现。同样，单个实验可以使用主要和次要度量标准，这样可以观察不同的变量在各种测量标准上的表现。

### 使用主要和次要度量标准

在一个实验中，您只能指定一个度量标准作为主要度量标准，但是如果您想跟踪附加的测量标准性能，您可以将次要度量标准附加到您的实验上。我们建议每个实验使用不超过十个度量标准。

主要度量标准有时被称为“总体评估标准”。当您在实验中做关于获胜变量的决策时，您应当只根据主要度量标准来做决定，因为如果在一个决策中包含多个度量标准，决策变得更加复杂。

如果您只使用一个度量标准，存在两种可能的结果：上升或下降。如果您使用两个度量标准，存在四种可能的结果组合：上升/下降，下降/上升，上升/上升或下降/下降。

对于每个添加到实验中的度量标准，可能结果的数量会迅速增加。如果您使用三个度量标准，存在八种不同的可能结果组合。如果您使用十个度量标准，存在1024种可能的结果组合。因此，我们建议仅使用主要度量标准来做决策。

### 度量标准类型

下表解释了您可以使用度量标准来跟踪的事件类型以及它们与SDK的兼容性：

| 度量标准类型 | 描述和示例用途 |
| ------------ | ---------- |
| 点击转化 | 跟踪用户界面(UI)元素的点击。<br><br>- 用户多久点击一次“保存”按钮？<br>- 用户点击链接的次数？<br>- 在流程中的哪个时间点展示注册邀请是最好的？ |
| 自定义转化 | 跟踪任意事件的发生。<br><br>- 用户搜索是否调用了特定的服务？<br>- 客户在一定时间内是否与客户服务联系？<br>- 客户是否在30天内续签合同？用户付款是否成功？ |
| 页面浏览转化 | 跟踪页面被浏览的次数。<br><br>- 用户浏览博客文章的次数？ |
| 自定义数字 | 跟踪与您设定的基准相比数字值的增加或减少。<br><br>- 用户在我的店铺每次交易中的花费多少？<br>- 用户总共花费多少？<br>- 用户每次交易购买多少件物品？<br>- 用户总共购买多少件物品？<br>- 用户在页面上花费多少时间？<br>- 服务器响应请求需要多长时间？<br>- 时间到第一个字节(TTFB)需要多长时间？ |

### 创建度量标准

进入**实验**页面，在**度量标准**选项卡中，点击**添加度量标准**按钮。

![](../experimentation/assets/creating-experiments/001.webp)

在度量标准绘图框中，填写度量标准的信息。

![](../experimentation/assets/creating-experiments/002.webp)

* `名称`，度量标准的名称
* `描述`，(可选)度量标准的描述
* `维护者`，该度量标准的维护者
* `事件类型`，FeatBit目前只有`custom`事件类型，但是实际上它支持以下类型：
  * 自定义转化，您需要在选择器下选择**转化率**
  * 自定义数字，您需要在选择器下选择**数值**
  * 点击转化和页面浏览转化，这些可以被视为自定义转化
* `事件名称`，在FeatBit实验评估时识别事件的名称。在调用SDK跟踪事件时，将传递此名称作为参数。
* `单位`，当您选择事件类型为数字时，这将用于标识您正在测量的数字类型。
* `获胜标准`，通过选择`高于基线`或`低于基线`来定义获胜标准。

## 创建实验

返回到概述子面板，点击**添加**按钮。

![](../experimentation/assets/creating-experiments/003.webp)

在**实验**绘图框中，选择之前创建的特征标志，选择一个**度量标准**，选择一个变量作为基线。点击**保存**按钮。

![](../experimentation/assets/creating-experiments/004.webp)

## 运行实验

在实验列表中，点击一个实验的**检查结果**按钮。

![](../experimentation/assets/creating-experiments/005.webp)

您将被导航到特征标志**实验**选项卡。在实验中点击开始按钮，它开始运行！

![](../experimentation/assets/creating-experiments/006.webp)

## 创建实验受众

您可以在一个标志默认规则上运行实验，也可以选择创建自定义实验受众，通过选择一个特定的标志定位规则来包含在实验中。您可以按照您收集的任何用户属性进行定位。了解如何操作，请阅读[定位规则](../feature-flags/targeting-users-with-flags/targeting-rules.md)。

当您构建您的实验时，您可以分配遇到标志的用户流量的全部或一部分流量来参与实验。目标受众的分配在选择实验受众时提供了灵活性，并确保准确的实验结果。FeatBit仅分析您选择作为实验一部分的用户。

您可以通过点击**设置A/B测试规则**按钮来选择特定的标志定位规则。

![](../experimentation/assets/creating-experiments/007.webp)

您可以在抽屉面板中配置具体的A/B测试流量。下图显示仅有10%的默认规则匹配的总用户数参与了实验。80%的匹配v1默认规则的用户被排除在实验之外。

![](../experimentation/assets/creating-experiments/008.webp)