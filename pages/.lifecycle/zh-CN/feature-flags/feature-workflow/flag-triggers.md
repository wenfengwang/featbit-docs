# 触发旗标

### 概述

本主题介绍了如何使用FeatBit的旗标触发功能，该功能允许您通过第三方应用程序（如APM工具）远程更改旗标的定位。您可以使用触发器来打开或关闭旗标的定位。

### 了解触发旗标的作用

触发器是使用唯一的Webhook URL远程启动旗标更改的方式。触发器与现有工具集成，使您可以在达到特定运营健康阈值或收到某些警报时启用或禁用旗标。一个旗标可以附加多个触发器到多个工具或警报。

触发器通过创建唯一的URL将功能旗标连接到第三方工具来工作。当第三方工具生成特定警报时，触发器将旗标的定位设置为“打开”或“关闭”。

每个URL控制一个动作，并且这些URL彼此独立。在初始联系将旗标设置为“打开”后，对旗标的“打开”URL的后续请求将不会更改旗标的状态。

#### 了解触发旗标的安全性

尽管触发旗标使用公共URL，但它们仍然是一种非常安全的启动更改功能旗标的方式。原因如下：

- 触发器使用不可预测的URL
- 只有在您的**FeatBit**项目中的某些人可以创建或修改触发器。

不可预测的URL在功能上类似于访问令牌，不需要FeatBit和其他服务之间的活动连接即可工作。要了解有关不可预测URL的更多信息，请阅读[Google的不可预测URL](https://www.schneier.com/blog/archives/2015/07/googles\_unguess.html)。

当您创建新的触发器时，其URL仅显示一次，并提示您将其本地复制。初始显示后，URL将被模糊处理，以便旗标的**触发器**选项卡的未来查看者无法查看它们。

如果您丢失触发器的URL，可以从触发器的底部操作区域重新设置它。

#### 创建新的触发旗标

您可以从旗标的**触发器**选项卡为单个功能旗标创建触发器。

创建触发器的步骤如下：

1. 导航到您希望创建触发器的功能旗标，并点击进入其**触发器**选项卡。
2. 点击**添加**按钮。将显示“创建触发器”对话框：

![](../../feature-flags/assets/feature-workflow/flag-triggers/001.png)

3. 从**类型**菜单中选择您想要使用的工具。您还可以选择“通用”来创建与任何特定工具相关联的触发器。
4. 从**操作**菜单中选择要使用触发器执行的操作。
5. 点击**确定**。将显示一个确认消息，并且触发器将出现在旗标的**触发器**选项卡中。
6. 复制并保存唯一的触发器URL。您必须在此时执行此操作。离开此页面后，触发器URL将被模糊处理，您将无法再次查看它：

您已成功创建旗标的新触发器。如果需要，您可以通过点击**添加**来创建更多的触发器。

### 管理现有的触发旗标

您可以从旗标的**触发器**选项卡中修改现有的触发器。在创建触发器后，您可以禁用、重置或删除它。

要修改现有的触发器，请按照以下步骤操作：

1. 导航到您希望编辑触发器的功能旗标，并点击进入其**触发器**选项卡。
2. 找到要修改的触发器。
3. 从操作区域中选择所需的选项：

![](../../feature-flags/assets/feature-workflow/flag-triggers/002.png)

- “禁用”：如果选择此选项，触发器配置将被保存，但触发器将停止工作。要重新启用触发器，请将开关切换为“启用”。
- “重置URL”：如果选择此选项，FeatBit将为该触发器生成一个新URL。如果您丢失了存在的触发器的URL，请使用此选项。您必须更新使用此URL的任何客户端以使用新URL。点击**重置**生成一个新URL。
- “删除”：如果选择此选项，触发器及其URL将永久删除。点击**删除**来删除触发器。

## 调用触发器

要调用触发器，请向触发器的**URL**发出**POST**请求，不需要其他参数。例如，使用curl，您可以执行以下操作：

```bash
curl -X POST http://localhost:5000/api/v1/triggers/run/MTQyMDY5OTI0ODc2MQw4yPzGndlkezFEsZE_uPnA
```